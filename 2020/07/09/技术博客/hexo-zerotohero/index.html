<!DOCTYPE html>
<html>
<head>
	<title>标签页显示</title>
	<meta charset="utf-8">

	<!-- 引入配置文件 -->
	
<link rel="stylesheet" href="/css/main.css">


	<!-- 字体图片库 -->
	
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


	<!-- 代码高亮库 -->
	
<link rel="stylesheet" href="/lib/highlight/styles/atom-one-dark.css">

	
<meta name="generator" content="Hexo 4.2.1"></head>
<body>

	<div id="main">
		<!-- 引入侧边栏 -->
		<aside>
			<!-- 搜索栏 -->
<div id="search">
	<input class="search-input" type="text" placeholder="search">
	<i id="search-icon" class="fa fa-bars" title="切换目录与索引">
</div>

<!-- 侧边目录栏 -->
<div id="tree">
	

	
					<ul>
						<li class="file">
							<a href="/2020/07/09/hello-world/">
								<i class="fa fa-file"></i>
								hello-world
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/2020/07/09/mudel/">
								<i class="fa fa-file"></i>
								mudel
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="directory">
							<a href="#" class="directory">
								<i class="fa fa-folder"></i>
								技术博客
							</a>
							
					<ul>
						<li class="file">
							<a href="/2020/07/09/技术博客/Markdown速成/">
								<i class="fa fa-file"></i>
								Markdown速成
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/2020/07/09/技术博客/git 入土教程/">
								<i class="fa fa-file"></i>
								git 入土教程
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file active">
							<a href="/2020/07/09/技术博客/hexo-zerotohero/">
								<i class="fa fa-file"></i>
								hexo-zerotohero
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/2020/07/09/技术博客/粗通 MATLAB R2020/">
								<i class="fa fa-file"></i>
								粗通 MATLAB R2020
							</a>
						</li>
					</ul>
	
						</li>
						
					</ul>
	
</div>


<!-- 最尾部添加，这里就不列以前的代码了 -->
<div id="toc" style="display: none;"></div>

		</aside>

		<!-- 引入导航 -->
		<nav>
			<ul id="menu">
	
	
    <li class="menu-item">
        <a href="/" class="menu-item-link">主页</a>
    </li>
    

</ul>

		</nav>

		<!-- 引入正文 -->
		<div id="content">，
			

<div id="article">
	<h1 id="Hexo-总述"><a href="#Hexo-总述" class="headerlink" title="Hexo 总述"></a>Hexo 总述</h1><p>博客分为动态和静态，动态在别人的虚拟主机和 vps 上搭建，不稳定而且速度慢；静态博客编译后是 html 页面，支持托管它的环境有 GitHub、gitcafe（现 Coding）等。</p>
<p>GitHub 是国外的服务器，访问速度较慢，可以将 Hexo 博客同时托管到 GitHub 和 Coding 上。具体参考：<a href="https://www.jianshu.com/p/25587e049d54" target="_blank" rel="noopener">https://www.jianshu.com/p/25587e049d54</a></p>
<p>进阶的 Next 主题定制参考：<a href="https://guanqr.com/tech/website/hexo-theme-next-customization/#%E5%AF%BC%E8%88%AA%E7%9B%AE%E5%BD%95%E9%85%8D%E7%BD%AE" target="_blank" rel="noopener">https://guanqr.com/tech/website/hexo-theme-next-customization/#%E5%AF%BC%E8%88%AA%E7%9B%AE%E5%BD%95%E9%85%8D%E7%BD%AE</a></p>
<p>B站 <a href="https://space.bilibili.com/271849279/article" target="_blank" rel="noopener">hojun_cn 大神的专栏</a> 有手把手教配置 Hexo 的教程，有精力可以去学习。</p>
<h2 id="1-Hexo-文件夹的构成"><a href="#1-Hexo-文件夹的构成" class="headerlink" title="1. Hexo 文件夹的构成"></a>1. Hexo 文件夹的构成</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">├── .github            #git信息</span><br><span class="line">├── languages          #多语言</span><br><span class="line">|   ├── default.yml    #默认语言</span><br><span class="line">|   └── zh-Hans.yml      #简体中文</span><br><span class="line">|   └── zh-tw.yml      #繁体中文</span><br><span class="line">├── layout             #布局，根目录下的*.ejs文件是对主页，分页，存档等的控制</span><br><span class="line">|   ├── _custom        #可以自己修改的模板，覆盖原有模板</span><br><span class="line">|   |   ├── _header.swig    #头部样式</span><br><span class="line">|   |   ├── _sidebar.swig   #侧边栏样式</span><br><span class="line">|   ├── _macro        #可以自己修改的模板，覆盖原有模板</span><br><span class="line">|   |   ├── post.swig    #文章模板</span><br><span class="line">|   |   ├── reward.swig    #打赏模板</span><br><span class="line">|   |   ├── sidebar.swig   #侧边栏模板</span><br><span class="line">|   ├── _partial       #局部的布局</span><br><span class="line">|   |   ├── head       #头部模板</span><br><span class="line">|   |   ├── search     #搜索模板</span><br><span class="line">|   |   ├── share      #分享模板</span><br><span class="line">|   ├── _script        #局部的布局</span><br><span class="line">|   ├── _third-party   #第三方模板</span><br><span class="line">|   ├── _layout.swig   #主页面模板</span><br><span class="line">|   ├── index.swig     #主页面模板</span><br><span class="line">|   ├── page           #页面模板</span><br><span class="line">|   └── tag.swig       #tag模板</span><br><span class="line">├── scripts            #script源码</span><br><span class="line">|   ├── tags           #tags的script源码</span><br><span class="line">|   ├── marge.js       #页面模板</span><br><span class="line">├── source             #源码</span><br><span class="line">|   ├── css            #css源码</span><br><span class="line">|   |   ├── _common    #*.styl基础css</span><br><span class="line">|   |   ├── _custom    #*.styl局部css</span><br><span class="line">|   |   └── _mixins    #mixins的css</span><br><span class="line">|   ├── fonts          #字体</span><br><span class="line">|   ├── images         #图片</span><br><span class="line">|   ├── uploads        #添加的文件</span><br><span class="line">|   └── js             #javascript源代码</span><br><span class="line">├── _config.yml        #主题配置文件</span><br><span class="line">└── README.md          #说明文档</span><br><span class="line">//Hexo文件夹详情</span><br><span class="line">├── .deploy 	       #执行hexo deploy命令部署到GitHub上的内容目录	</span><br><span class="line">├── public 	       #执行hexo generate命令，输出的静态网页内容目录</span><br><span class="line">├── scaffolds	       #layout模板文件目录，其中的md文件可以添加编辑</span><br><span class="line">├── scripts 	       #扩展脚本目录，这里可以自定义一些javascript脚本</span><br><span class="line">├── source 	       #文章源码目录，该目录下的markdown和html文件均会被hexo处理。该页面对应repo的根目录，404文件、favicon.ico文件，CNAME文件等都应该放这里，该目录下可新建页面目录。</span><br><span class="line">|   ├── _drafts        #草稿文章</span><br><span class="line">|   └── _posts 	       #发布文章</span><br><span class="line">├── themes 	       #主题文件目录</span><br><span class="line">├── _config.yml        #主题文件目录</span><br><span class="line">└── package.json       #全局配置文件，大多数的设置都在这里</span><br></pre></td></tr></table></figure>



<h2 id="2-Hexo-命令"><a href="#2-Hexo-命令" class="headerlink" title="2. Hexo 命令"></a>2. Hexo 命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Commands:</span><br><span class="line">  clean     Remove generated files and cache.</span><br><span class="line">  config    Get or set configurations.</span><br><span class="line">  deploy    Deploy your website.</span><br><span class="line">  generate  Generate static files.</span><br><span class="line">  help      Get help on a command.</span><br><span class="line">  init      Create a new Hexo folder.</span><br><span class="line">  list      List the information of the site</span><br><span class="line">  migrate   Migrate your site from other system to Hexo.</span><br><span class="line">  new       Create a new post.</span><br><span class="line">  publish   Moves a draft post from _drafts to _posts folder.</span><br><span class="line">  render    Render files with renderer plugins.</span><br><span class="line">  server    Start the server.</span><br><span class="line">  version   Display version information.</span><br><span class="line"></span><br><span class="line">Global Options:</span><br><span class="line">  --config  Specify config file instead of using _config.yml</span><br><span class="line">  --cwd     Specify the CWD</span><br><span class="line">  --debug   Display all verbose messages in the terminal</span><br><span class="line">  --draft   Display draft posts</span><br><span class="line">  --safe    Disable all plugins and scripts</span><br><span class="line">  --silent  Hide output on console</span><br></pre></td></tr></table></figure>



<h1 id="Hexo-的安装、备份、恢复、多主机上传、一主机多博客"><a href="#Hexo-的安装、备份、恢复、多主机上传、一主机多博客" class="headerlink" title="Hexo 的安装、备份、恢复、多主机上传、一主机多博客"></a>Hexo 的安装、备份、恢复、多主机上传、一主机多博客</h1><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><ol>
<li>安装 Hexo<br>如果本地已经装过 hexo<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm list -g --depth 0</span><br></pre></td></tr></table></figure>
先卸载 </li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm uninstall hexo-cli -g</span><br></pre></td></tr></table></figure>

<p>再安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>初始化博客</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo init 博客名</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>cd 到 <code>博客名</code> 下，再安装模块，这个模块将根据博客文件夹下的一个文件配置安装（具体是啥名字忘了）</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>安装 git 依赖</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>

<p>这一步做完了，才会有 .git 目录</p>
<blockquote>
<p>npm 的包安装分为本地安装（local）、全局安装（global）两种<br>本地安装:</p>
<figure class="highlight plain"><figcaption><span>install xxx```` 安装到命令行所在目录的node_module目录。</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">全局安装:</span><br><span class="line">&#96;&#96;&#96;&#96; npm install xxx  -g&#96;&#96;&#96;&#96;  安装到 \AppData\Roaming\npm\node_modules目录。</span><br><span class="line"></span><br><span class="line">## 初始化</span><br><span class="line"></span><br><span class="line">1. 设置 &#96;配置文件&#96;，主要在两个地方改动：</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;&#96;yaml</span><br><span class="line">deploy:</span><br><span class="line">    type: git</span><br><span class="line">    repo: https:&#x2F;&#x2F;github.com&#x2F;dualtsubasa&#x2F;dualtsubasa.github.io.git</span><br><span class="line">    branch: master </span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li>如果是一台电脑上两个 Hexo，在 deploy 这里的 repo 需要改成：</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">repo:</span> <span class="string">https://用户名:密码@github.com/dualtsubasa/dualtsubasa.github.io.git</span></span><br></pre></td></tr></table></figure>




<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">url:</span> <span class="string">https://dualtsubasa.github.io</span></span><br></pre></td></tr></table></figure>



<ol start="2">
<li>第一次的调试</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo g</span><br><span class="line">$ hexo s -p 端口(4000 或 5555)</span><br><span class="line">$ hexo d</span><br></pre></td></tr></table></figure>





<h2 id="备份和恢复"><a href="#备份和恢复" class="headerlink" title="备份和恢复"></a>备份和恢复</h2><p>首先声明网络备份各种故障，沙雕操作一下文件就没得了，所以最好把 <code>blog\博客名</code> 的整个文件夹硬盘保存。</p>
<p>GitHub 备份参考 B站 <a href="https://www.bilibili.com/video/BV14t4112752?from=search&seid=5546080479828443994" target="_blank" rel="noopener">hojun_cn 大神的教程</a>，插件 <a href="https://github.com/coneycode/hexo-git-backup" target="_blank" rel="noopener">hexo-git-backup</a>。</p>
<p>首先，我们需要建立一个私有仓库：<code>Private_Repositories_Name</code>。</p>
<p>在 git-backup 插件的 <code>README.md</code> 中分别对 Hexo 的不同版本发布了不同安装命令。虽然现在的 Hexo 已经到了 4.x.x，但亲测 3.x.x 还可以用。</p>
<p>Install</p>
<p>if your hexo version is 2.x.x, you should install as follow:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-git-backup@0.0.91 --save</span><br></pre></td></tr></table></figure>

<p>if version is 3.x.x, you should install as follow:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-git-backup --save</span><br></pre></td></tr></table></figure>

<p>update</p>
<p>if you install with –save, you must remove firstly when you update it.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm remove hexo-git-backup</span><br><span class="line">$ npm install hexo-git-backup --save</span><br></pre></td></tr></table></figure>

<p>使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo backup </span><br><span class="line">hexo b</span><br></pre></td></tr></table></figure>

<p><strong>作者提到 Update 首先要 remove，我之前安装过一次，没成功，所以这里也先卸载再安装。直觉这里会是一个坑，所以加粗强调。</strong></p>
<p>在 <code>配置文件</code> 最后面加入</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">backup:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">    <span class="attr">theme:</span> <span class="string">next</span>		</span><br><span class="line">    <span class="comment">#作者说要备份主题，需要在这里加入配置文件下关联的主题名字，但4.0版本里加不加都会备份主题</span></span><br><span class="line">    <span class="attr">repository:</span>		<span class="comment">#空着不填！</span></span><br><span class="line">       <span class="attr">github:</span> <span class="string">git@github.com:xxx/xxx.git,Master</span>		<span class="comment">#私有仓库的地址,分支名字</span></span><br><span class="line">       <span class="attr">gitcafe:</span> <span class="string">git@github.com:xxx/xxx.git,branchName</span>		<span class="comment">#可以删了</span></span><br></pre></td></tr></table></figure>

<p>运行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&amp; hexo b</span><br></pre></td></tr></table></figure>

<p>这里有时会弹出输入 GitHub 账号密码的框。账号输入邮箱地址，不然有时会登不上去，玄学。</p>
<h3 id="新主机恢复"><a href="#新主机恢复" class="headerlink" title="新主机恢复"></a>新主机恢复</h3><p>不按套路来出现很多不可描述无法解决的bugs，所以这里建议严格按照步骤进行。<br><em>前提：blog已经备份到blog同名仓库的分支下，也就是说此时加密是没用的，内容是完全公开透明的。但可以通过修改配置文件，备份到私有仓库，实现完全 private</em><br><em>注：最后一次成功没有安装 <code>git-backup</code> 插件也成功备份了，但由于我之前失败了很多次，不知道是不是之前安装的插件还在，如果按照以下步骤行不通，就在第四步之后安装插件</em></p>
<ol>
<li><p>安装 <code>node.js</code>，<code>git</code>，配置 SSH。</p>
</li>
<li><p>从仓库下载文件到本地，可以重命名。</p>
</li>
<li><p>在本地新建  blog 文件夹下，打开 git bash（cmd 也可），安装  Hexo。</p>
</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">$</span> <span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-cli</span> <span class="string">-g</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li><code>cd</code> 到 <code>blog\博客名</code> 目录下，安装组件。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install</span><br></pre></td></tr></table></figure>

<p>在  <code>blog\博客名</code> 目录下，安装 git 插件</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">$</span> <span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-deployer-git</span> <span class="string">--save</span></span><br></pre></td></tr></table></figure>

<ol start="5">
<li>大功告成，然后就可以 </li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo g #生成</span><br><span class="line">hexo b #先备份</span><br><span class="line">hexo d #再提交</span><br></pre></td></tr></table></figure>

<p><em>如果缺少git仓库可以自己init一个，但只要安装了 git 依赖一般是不会有问题的</em></p>
<h3 id="已有环境"><a href="#已有环境" class="headerlink" title="已有环境"></a>已有环境</h3><p>从仓库下载，覆盖源目录。</p>
<h2 id="部署多博客"><a href="#部署多博客" class="headerlink" title="部署多博客"></a>部署多博客</h2><p>一台主机部署多个博客，首先需要一台主机绑定多个 GitHub 账号。</p>
<h3 id="1-SSH设置"><a href="#1-SSH设置" class="headerlink" title="1. SSH设置"></a>1. SSH设置</h3><ol>
<li>新的SSH</li>
</ol>
<p>SSH 是和 git 账号绑定，所以需要再配置一个 ssh。在 <code>/.ssh</code> 目录下打开 git bash</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -f  ~&#x2F;.ssh&#x2F;这里是新密钥名称 -C &quot;这里是你的邮箱&quot;</span><br></pre></td></tr></table></figure>

<p>查看你的.ssh/根路径下, 有没有config文件,（ 比如我的路径为C:\Users\Lenovo.ssh）没有则使用以下命令创建一个config文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ touch config</span><br></pre></td></tr></table></figure>

<p>用记事本或者其他工具打开config文件（注意config文件是没有任何后缀名的），写入以下配置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#第一个账号，默认使用的账号，不用做任何更改</span><br><span class="line">Host github.com</span><br><span class="line">	HostName github.com</span><br><span class="line">	User git</span><br><span class="line">	IdentityFile ~&#x2F;.ssh&#x2F;id_rsa</span><br><span class="line">	</span><br><span class="line">#第二个新账号，#&quot;xxxxxx&quot;为前缀名，可以任意设置，要记住，后面需要用到</span><br><span class="line">Host xxxxxx.github.com</span><br><span class="line">	HostName github.com</span><br><span class="line">	User git</span><br><span class="line">	IdentityFile ~&#x2F;.ssh&#x2F;这里是你创建的新密钥的名称</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>添加新的ssh到GitHub账户SSH key</li>
<li>清空本地的 SSH 缓存，添加新的 SSH 密钥 到 SSH agent中</li>
</ol>
<p>使用命令cd ~/.sshcd到.ssh根目录下，依次执行以下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ssh-add -D</span><br><span class="line">ssh-add xxxxxx #旧密钥名称，一般是id_rsa</span><br><span class="line">ssh-add xxxxxx #新创建的密钥名称</span><br></pre></td></tr></table></figure>

<p>如果执行以上命令出现错误：Could not open a connection to your authentication agent.，那么就需要先执行 <code>ssh-agent bash</code>，再执行以上命令</p>
<ol start="4">
<li>验证配置是否成功</li>
</ol>
<p>依次执行以下命令，第一个为默认ssh_key验证；第二个为新的ssh_key验证，其中“xxxxxx”为你先前在config文件中的命名</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br><span class="line">ssh -T git@xxxxxxx.github.com</span><br></pre></td></tr></table></figure>

<p>依次显示以下信息, 则说明配置成功：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hi 你的用户名! You&#39;ve successfully authenticated, but GitHub does not provide shell access.</span><br></pre></td></tr></table></figure>



<h3 id="2-github-账号设置"><a href="#2-github-账号设置" class="headerlink" title="2. github 账号设置"></a>2. github 账号设置</h3><p>这一步总是有莫名其妙的错误，走一步看一步吧。</p>
<p>取消全局用户名/邮箱配置，单独设置用户名/邮箱。执行如下命令，取消全局用户名和邮箱配置（如果已经设置了全局的话）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global --unset user.name</span><br><span class="line">git config --global --unset user.email</span><br></pre></td></tr></table></figure>

<p>分别进入你的两个Hexo博客.git目录下执行以下命令单独设置用户名/邮箱：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config user.name &quot;这里是用户名&quot;</span><br><span class="line">git config user.email &quot;这里是你的邮箱&quot;</span><br></pre></td></tr></table></figure>

<p>如果此时报错：fatal: not in a git directory，说明你没有进入.git目录下，具体路径：\Hexo.deploy_git.git，.git目录是隐藏的，需要你设置隐藏目录可见</p>
<p>执行以下命令可以查看设置是否成功</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --list</span><br></pre></td></tr></table></figure>


<h3 id="3-hexo-配置文件修改"><a href="#3-hexo-配置文件修改" class="headerlink" title="3. hexo 配置文件修改"></a>3. hexo 配置文件修改</h3><p>打开你的第二个博客Hexo目录下的_config.yml文件，找到deploy关键字，写入以下配置并保存：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repository:</span> <span class="string">git@xxxxxx.github.com:你的用户名/你的用户名.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure>

<p>大功告成，再次执行hexo g -d就能成功将新的博客部署到 Github 上了</p>
<p><strong>特别注意</strong></p>
<p>可能是由于 backup 插件的配置问题（推测），在备份的时候 SSH 连接的还是默认 SSH，所以无法链接到第二个 GitHub 仓库，在我搞清楚里面的门道之前，就先硬盘备份吧。</p>
<h1 id="Hexo-写文章"><a href="#Hexo-写文章" class="headerlink" title="Hexo 写文章"></a>Hexo 写文章</h1><h2 id="1-页面"><a href="#1-页面" class="headerlink" title="1. 页面"></a>1. 页面</h2><p>页面就是可以在导航栏上显示的分类（需要手动在 menu 中添加）</p>
<h4 id="新建源文件"><a href="#新建源文件" class="headerlink" title="新建源文件"></a>新建源文件</h4><p>命令行键入:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page &quot;page_name&quot;	  ::page_name 可以不带双引号，最好是中文，否则点入 Page 页面会显示大大的英文，翻译连接在这里不起作用</span><br></pre></td></tr></table></figure>

<p>会在 source/page_name 中生成 index.html。这个就叫做页面，不在文章列表显示。</p>
<p>页面支持文章的大部分属性，除了分类和标签。</p>
<h4 id="添加到导航"><a href="#添加到导航" class="headerlink" title="添加到导航"></a>添加到导航</h4><p>打开 <code>主题配置文件</code> 找到 menu:，在列表添加</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">page_name:</span> <span class="string">/categories/page_name/||</span> <span class="string">icon</span>	<span class="comment">#注意空格要和 example 完全一致</span></span><br></pre></td></tr></table></figure>
<p>icon 可使用 <a href="http://www.fontawesome.com.cn/faicons/" target="_blank" rel="noopener">Font Awesome 中文版</a> 提供的 free 图标。注意一定要是中文版，英文会无法显示。</p>
<p>也可使用<a href="https://www.iconfont.cn/" target="_blank" rel="noopener">阿里图标</a>，下载 CSS 文件后复制内容，粘贴到 themes/…/source/css/_custom/custom.styl 中。把代码段中的 <code>.iconfont</code> 替换为 <code>.fa-costum</code>。最后在 <code>主题配置文件</code> 中需要引用图标的部分，采用 <code>costum icon_name</code> 形式。<a href="#refer-anchor-1"><sup>1</sup></a></p>
<p>打开 themes\languages\zh-Hans.yml，依例在 menu 下添加 page_name 的中文释义。page_name 是中文可以省略这一步。</p>
<p><em>如果 page 下没有文章，点页面链接会报错。</em></p>
<h2 id="2-文章"><a href="#2-文章" class="headerlink" title="2. 文章"></a>2. 文章</h2><h4 id="立即发布"><a href="#立即发布" class="headerlink" title="立即发布"></a>立即发布</h4><p>如果有现成的同类别的文章，复制个文章头拖进 <code>source/_posts</code> 目录，就能给直接发布。</p>
<p>如果没有：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hexo new &quot;paper_name&quot;	#在source&#x2F;_posts目录下生成 paper_name.md 文件</span><br></pre></td></tr></table></figure>

<p>文章拥有以下属性</p>
<table>
<thead>
<tr>
<th>Setting</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody><tr>
<td>-layout</td>
<td>Layout</td>
<td>post或page</td>
</tr>
<tr>
<td>title</td>
<td>文章的标题</td>
<td></td>
</tr>
<tr>
<td>date</td>
<td>创建日期</td>
<td>文件的创建日期</td>
</tr>
<tr>
<td>updated</td>
<td>修改日期</td>
<td>文件的修改日期</td>
</tr>
<tr>
<td>comments</td>
<td>是否开启评论</td>
<td>true</td>
</tr>
<tr>
<td>tags</td>
<td>标签</td>
<td></td>
</tr>
<tr>
<td>categories</td>
<td>分类</td>
<td></td>
</tr>
<tr>
<td>permalink</td>
<td>url中的名字</td>
<td>文件名</td>
</tr>
</tbody></table>
<p>把文章发布到指定 <code>page</code>，打开 <code>paper_name.md</code> 文件，做如下修改：</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: test1</span><br><span class="line">date: 2020-06-18 02:34:12</span><br><span class="line">tags:</span><br><span class="line">categories: </span><br><span class="line"><span class="bullet">	- </span>page_name   </span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<h4 id="加密"><a href="#加密" class="headerlink" title="加密"></a>加密</h4><p>下好插件后，在 <code>.md</code> 的头部添加</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">password: mikemessi</span><br><span class="line">abstract: 有东西被加密了, 请输入密码查看.</span><br><span class="line">message: 您好, 这里需要密码.</span><br><span class="line">wrong<span class="emphasis">_pass_</span>message: 抱歉, 这个密码看着不太对, 请再试试.</span><br><span class="line">wrong<span class="emphasis">_hash_</span>message: 抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.</span><br></pre></td></tr></table></figure>

<h4 id="隐藏"><a href="#隐藏" class="headerlink" title="隐藏"></a>隐藏</h4><p>如果不希望在首页全文显示，就给每个文章头写个摘要。</p>
<h4 id="草稿"><a href="#草稿" class="headerlink" title="草稿"></a>草稿</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hexo new draft &quot;draft_name&quot;	  ::在source&#x2F;_drafts目录下生成 draft_name.md 文件</span><br></pre></td></tr></table></figure>

<p>如果你希望强行预览草稿，更改配置文件：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">render_drafts:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>或者，如下方式启动server：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server --drafts</span><br></pre></td></tr></table></figure>

<p>发布草稿</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo publish draft_name</span><br></pre></td></tr></table></figure>

<p>将正式文章转为为草稿，只需手动将文章从 <code>source/_posts</code> 目录移动到 <code>source/_drafts</code> 目录即可。</p>
<p>参考</p>
<div id="refer-anchor-1"></div>

<p>[1] <a href="http://blog.shenyuanluo.com/HexoConfig1.html" target="_blank" rel="noopener">http://blog.shenyuanluo.com/HexoConfig1.html</a></p>
<h1 id="界面优化"><a href="#界面优化" class="headerlink" title="界面优化"></a>界面优化</h1><h4 id="1-增加搜索"><a href="#1-增加搜索" class="headerlink" title="1. 增加搜索"></a>1. 增加搜索</h4><p>1.安装搜索：在Hexo的根目录下，打开命令可执行窗口，执行如下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure>

<p>2.全局配置文件_config.yml，新增如下内容：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">format:</span> <span class="string">html</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">10000</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>hexo主题配置文件（\themes\next_config.yml），修改local_search的enable为true：</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Local search</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/flashlab/hexo-generator-search</span></span><br><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># if auto, trigger search by changing input</span></span><br><span class="line">  <span class="comment"># if manual, trigger search by pressing enter key or search button</span></span><br><span class="line">  <span class="attr">trigger:</span> <span class="string">auto</span></span><br><span class="line">  <span class="comment"># show top n results per article, show all results by setting to -1</span></span><br><span class="line">  <span class="attr">top_n_per_article:</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h4 id="2-评价系统-Valine"><a href="#2-评价系统-Valine" class="headerlink" title="2. 评价系统-Valine"></a>2. 评价系统-Valine</h4><p><img src="https://upload-images.jianshu.io/upload_images/7208248-bab5e81f4c86ff26.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="注意write只有数据创见者有全校"></p>

</div>

		</div>
		
	</div>

	<!-- 引入代码高亮的 js -->
	
<script src="/lib/highlight/highlight.pack.js"></script>


	<!-- 引入 jquery -->
	
<script src="/lib/jquery-3.4.1.min.js"></script>


	<!-- 引入 pjax -->
	
<script src="/lib/jquery.pjax.js"></script>

	
	<!-- 引入 js 文件 -->
	
<script src="/js/main.js"></script>


	<script type="text/javascript">
	L2Dwidget.init();
	</script>

</body>
</html>